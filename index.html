<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Engineering Calculator</title>
<style>
    body { font-family: Arial; background: #f5f5f5; margin: 0; padding: 20px; }
    .container { width: 900px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
    select, input { padding: 8px; margin: 5px; width: 200px; }
    button { padding: 10px 20px; margin-top: 10px; background: #007BFF; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #0056cc; }
    .section-title { font-size: 22px; margin-top: 20px; font-weight: bold; }
    .result { margin-top: 15px; padding: 15px; background: #e8f0fe; border-radius: 8px; font-weight: bold; }
</style>
</head>
<body>

<div class="container">

<h1>Engineering Calculator</h1>

<select id="mainMenu" onchange="switchMenu()">
    <option value="conversion">Unit Conversion</option>
    <option value="compute">Mechanical Computation</option>
</select>

<hr>

<!-- UNIT CONVERSION -->
<div id="conversionSection">

    <div class="section-title">Unit Conversion</div>

    <label>Category:</label>
    <select id="category" onchange="loadUnits()">
        <option>Length</option>
        <option>Weight</option>
        <option>Temperature</option>
        <option>Time</option>
        <option>Area</option>
        <option>Volume</option>
        <option>Pressure</option>
        <option>Energy</option>
        <option>Speed</option>
    </select>

    <br>

    <label>Value:</label>
    <input id="value">

    <label>From:</label>
    <select id="unitFrom"></select>

    <label>To:</label>
    <select id="unitTo"></select>

    <br>
    <button onclick="convert()">Convert</button>

    <div class="result" id="convResult"></div>
</div>

<!-- MECHANICAL COMPUTATION -->
<div id="computeSection" style="display:none;">

    <div class="section-title">Mechanical Computation</div>

    <label>Select Formula:</label>
    <select id="computeSelect" onchange="loadInputs()">
        <option value="F=ma">Force (F = m × a)</option>
        <option value="T=Fr">Torque (T = F × r)</option>
        <option value="σ=F/A">Stress (σ = F / A)</option>
        <option value="P=Fv">Power (P = F × v)</option>
        <option value="W=Fd">Work (W = F × d)</option>
        <option value="KE=1/2mv2">Kinetic Energy (½mv²)</option>
        <option value="PE=mgh">Potential Energy (mgh)</option>
        <option value="a=F/m">Acceleration (a = F / m)</option>
        <option value="w=v/r">Angular Velocity (ω = v / r)</option>
        <option value="Fc=mv2/r">Centripetal Force (Fc = mv² / r)</option>
    </select>

    <div id="inputs"></div>

    <button onclick="compute()">Compute</button>

    <div class="result" id="computeResult"></div>

</div>

</div>

<script>
/* ------------------------ UNIT LISTS ---------------------------- */
const units = {
    Length: ["m","cm","km","in","ft","yd","mile"],
    Weight: ["kg","g","lb","oz"],
    Temperature: ["C","F","K"],
    Time: ["s","min","hr","day"],
    Area: ["m2","cm2","km2","acre"],
    Volume: ["L","mL","m3","cm3","gal"],
    Pressure: ["Pa","kPa","MPa","GPa","atm","bar","psi"],
    Energy: ["J","kJ","cal","kcal"],
    Speed: ["m/s","km/h","mph"]
};

function switchMenu() {
    let choice = document.getElementById("mainMenu").value;
    document.getElementById("conversionSection").style.display = (choice === "conversion") ? "block" : "none";
    document.getElementById("computeSection").style.display = (choice === "compute") ? "block" : "none";
}

function loadUnits() {
    let cat = document.getElementById("category").value;
    let from = document.getElementById("unitFrom");
    let to = document.getElementById("unitTo");

    from.innerHTML = "";
    to.innerHTML = "";

    units[cat].forEach(u => {
        from.innerHTML += `<option>${u}</option>`;
        to.innerHTML += `<option>${u}</option>`;
    });
}

loadUnits();

function convert() {
    let value = parseFloat(document.getElementById("value").value);
    let cat = document.getElementById("category").value;
    let from = document.getElementById("unitFrom").value;
    let to = document.getElementById("unitTo").value;

    if (isNaN(value)) {
        document.getElementById("convResult").innerHTML = "Enter a valid number!";
        return;
    }

    const conv = {
        Length: {m:1, cm:100, km:0.001, in:39.3701, ft:3.28084, yd:1.09361, mile:0.000621371},
        Weight: {kg:1, g:1000, lb:2.20462, oz:35.274},
        Time: {s:1, min:1/60, hr:1/3600, day:1/86400},
        Area: {m2:1, cm2:10000, km2:0.000001, acre:0.000247105},
        Volume: {L:1, mL:1000, m3:0.001, cm3:1000, gal:0.264172},
        Pressure: {Pa:1, kPa:0.001, MPa:1e-6, GPa:1e-9, atm:9.869e-6, bar:1e-5, psi:1.45038e-4},
        Energy: {J:1, kJ:0.001, cal:0.239006, kcal:0.000239006},
        Speed: {"m/s":1, "km/h":3.6, "mph":2.23694}
    };

    let res;

    if (cat === "Temperature") {
        if (from === "C" && to === "F") res = value * 9/5 + 32;
        else if (from === "F" && to === "C") res = (value - 32) * 5/9;
        else if (from === "C" && to === "K") res = value + 273.15;
        else if (from === "K" && to === "C") res = value - 273.15;
        else if (from === "F" && to === "K") res = (value - 32) * 5/9 + 273.15;
        else if (from === "K" && to === "F") res = (value - 273.15) * 9/5 + 32;
        else res = value;
    } else {
        res = value * conv[cat][to] / conv[cat][from];
    }

    document.getElementById("convResult").innerHTML = `${value} ${from} = <b>${res.toFixed(4)} ${to}</b>`;
}

/* ------------------------ COMPUTATION ENGINE ---------------------------- */

function loadInputs() {
    let formula = document.getElementById("computeSelect").value;
    let inputs = document.getElementById("inputs");

    const forms = {
        "F=ma": ["Mass (kg)", "Acceleration (m/s²)"],
        "T=Fr": ["Force (N)", "Radius (m)"],
        "σ=F/A": ["Force (N)", "Area (m²)"],
        "P=Fv": ["Force (N)", "Velocity (m/s)"],
        "W=Fd": ["Force (N)", "Distance (m)"],
        "KE=1/2mv2": ["Mass (kg)", "Velocity (m/s)"],
        "PE=mgh": ["Mass (kg)", "Gravity (m/s²)", "Height (m)"],
        "a=F/m": ["Force (N)", "Mass (kg)"],
        "w=v/r": ["Velocity (m/s)", "Radius (m)"],
        "Fc=mv2/r": ["Mass (kg)", "Velocity (m/s)", "Radius (m)"]
    };

    inputs.innerHTML = "<br>";

    forms[formula].forEach((label, i) => {
        inputs.innerHTML += `<label>${label}:</label>
                             <input id="in${i}" /><br>`;
    });
}

loadInputs();

function compute() {
    let formula = document.getElementById("computeSelect").value;
    let a = parseFloat(document.getElementById("in0")?.value);
    let b = parseFloat(document.getElementById("in1")?.value);
    let c = parseFloat(document.getElementById("in2")?.value);
    let result, unit;

    if (isNaN(a) || isNaN(b) || (formula.includes("PE") || formula.includes("Fc") ? isNaN(c) : false)) {
        document.getElementById("computeResult").innerHTML = "Please enter valid numbers.";
        return;
    }

    switch(formula){
        case "F=ma": result = a*b; unit="N"; break;
        case "T=Fr": result = a*b; unit="Nm"; break;
        case "σ=F/A": result = a/b; unit="Pa"; break;
        case "P=Fv": result = a*b; unit="W"; break;
        case "W=Fd": result = a*b; unit="J"; break;
        case "KE=1/2mv2": result = 0.5*a*b*b; unit="J"; break;
        case "PE=mgh": result = a*b*c; unit="J"; break;
        case "a=F/m": result = a/b; unit="m/s²"; break;
        case "w=v/r": result = a/b; unit="rad/s"; break;
        case "Fc=mv2/r": result = a*b*b/c; unit="N"; break;
    }

    document.getElementById("computeResult").innerHTML = `Result: <b>${result.toFixed(4)} ${unit}</b>`;
}
</script>

</body>
</html>
