<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Engineering Toolkit</title>
<style>
    body {
        font-family: Arial;
        background: #f5f5f5;
        margin: 0;
        padding: 20px;
    }
    .container {
        width: 900px;
        margin: auto;
        background: white;
        padding: 20px;
        border-radius: 10px;
    }
    select, input {
        padding: 8px;
        margin: 5px;
        width: 200px;
    }
    button {
        padding: 10px 20px;
        margin-top: 10px;
        background: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }
    button:hover { background: #0056cc; }

    .section-title {
        font-size: 22px;
        margin-top: 20px;
        font-weight: bold;
    }
    .result {
        margin-top: 15px;
        padding: 15px;
        background: #e8f0fe;
        border-radius: 8px;
        font-weight: bold;
    }
</style>
</head>
<body>

<div class="container">

<h1>Engineering Toolkit</h1>

<!-- MAIN TABS -->
<select id="mainMenu" onchange="switchMenu()">
    <option value="conversion">Unit Conversion</option>
    <option value="compute">Mechanical Computation</option>
</select>

<hr>

<!-- UNIT CONVERSION -->
<div id="conversionSection">

    <div class="section-title">Unit Conversion</div>

    <label>Category:</label>
    <select id="category" onchange="loadUnits()">
        <option>Length</option>
        <option>Weight</option>
        <option>Temperature</option>
        <option>Time</option>
        <option>Area</option>
        <option>Volume</option>
        <option>Pressure</option>
        <option>Energy</option>
        <option>Speed</option>
    </select>

    <br>

    <label>Value:</label>
    <input id="value">

    <label>From:</label>
    <select id="unitFrom"></select>

    <label>To:</label>
    <select id="unitTo"></select>

    <br>
    <button onclick="convert()">Convert</button>

    <div class="result" id="convResult"></div>
</div>

<!-- MECHANICAL COMPUTATION -->
<div id="computeSection" style="display:none;">

    <div class="section-title">Mechanical Computation</div>

    <label>Select Formula:</label>
    <select id="computeSelect" onchange="loadInputs()">
        <option value="F=ma">Force (F = m × a)</option>
        <option value="T=Fr">Torque (T = F × r)</option>
        <option value="σ=F/A">Stress (σ = F / A)</option>
        <option value="P=Fv">Power (P = F × v)</option>
        <option value="W=Fd">Work (W = F × d)</option>
        <option value="KE=1/2mv2">Kinetic Energy (½mv²)</option>
        <option value="PE=mgh">Potential Energy (mgh)</option>
        <option value="a=F/m">Acceleration (a = F / m)</option>
        <option value="w=v/r">Angular Velocity (ω = v / r)</option>
        <option value="Fc=mv2/r">Centripetal Force (Fc = mv² / r)</option>
    </select>

    <div id="inputs"></div>

    <button onclick="compute()">Compute</button>

    <div class="result" id="computeResult"></div>

</div>

</div>

<script>
/* ------------------------ UNIT LISTS ---------------------------- */
const units = {
    Length: ["m","cm","km","in","ft","yd","mile"],
    Weight: ["kg","g","lb","oz"],
    Temperature: ["C","F","K"],
    Time: ["s","min","hr","day"],
    Area: ["m2","cm2","km2","acre"],
    Volume: ["L","mL","m3","cm3","gal"],
    Pressure: ["Pa","kPa","MPa","GPa","atm","bar","psi"],
    Energy: ["J","kJ","cal","kcal"],
    Speed: ["m/s","km/h","mph"]
};

function switchMenu() {
    let choice = document.getElementById("mainMenu").value;
    document.getElementById("conversionSection").style.display = (choice === "conversion") ? "block" : "none";
    document.getElementById("computeSection").style.display = (choice === "compute") ? "block" : "none";
}

function loadUnits() {
    let cat = document.getElementById("category").value;
    let from = document.getElementById("unitFrom");
    let to = document.getElementById("unitTo");

    from.innerHTML = "";
    to.innerHTML = "";

    units[cat].forEach(u => {
        from.innerHTML += `<option>${u}</option>`;
        to.innerHTML += `<option>${u}</option>`;
    });
}

loadUnits();

function convert() {
    let value = parseFloat(document.getElementById("value").value);
    let cat = document.getElementById("category").value;
    let from = document.getElementById("unitFrom").value;
    let to = document.getElementById("unitTo").value;

    if (isNaN(value)) {
        document.getElementById("convResult").innerHTML = "Enter a valid number!";
        return;
    }

    // Conversion multipliers
    const conv = {
        Length: {m:1, cm:100, km:0.001, in:39.37, ft:3.28, yd:1.09, mile:0.000621},
        Weight: {kg:1, g:1000, lb:2.2046, oz:35.274},
        Time: {s:1, min:1/60, hr:1/3600, day:1/86400},
        Area: {m2:1, cm2:10000, km2:0.000001, acre:0.000247},
        Volume: {L:1, mL:1000, m3:0.001, cm3:1000, gal:0.264},
        Pressure:{Pa:1,kPa:0.001,MPa:1e-6,GPa:1e-9,atm:9.869e-6,bar:1e-5,psi:1.450e-4},
        Energy:{J:1,kJ:0.001,cal:0.239,kcal:0.000239},
        Speed:{ "m/s":1, "km/h":3.6, "mph":2.2369 }
    };

    let res;

    if (cat === "Temperature") {
        if (from === "C" && to === "F") res = value * 9/5 + 32;
        else if (from === "F" && to === "C") res = (value - 32) * 5/9;
        else if (from === "C" && to === "K") res = value + 273.15;
        else if (from === "K" && to === "C") res = value - 273.15;
        else if (from === "F" && to === "K") res = (value - 32)*5/9 + 273.15;
        else if (from === "K" && to === "F") res = (value - 273.15)*9/5 + 32;
        else res = value;
    } 
    else {
        res = value * conv[cat][to] / conv[cat][from];
    }

    document.getElementById("convResult").innerHTML = `${value} ${from} = <b>${res.toFixed(4)} ${to}</b>`;
}

/* ------------------------ COMPUTATION ENGINE ---------------------------- */
function loadInputs() {
    let formula = document.getElementById("computeSelect").value;
    let inputs = document.getElementById("inputs");

    const forms = {
        "F=ma": {labels:["Mass (kg)","Acceleration (m/s²)"], unit:"N"},
        "T=Fr": {labels:["Force (N)","Radius (m)"], unit:"N·m"},
        "σ=F/A": {labels:["Force (N)","Area (m²)"], unit:"Pa"},
        "P=Fv": {labels:["Force (N)","Velocity (m/s)"], unit:"W"},
        "W=Fd": {labels:["Force (N)","Distance (m)"], unit:"J"},
        "KE=1/2mv2": {labels:["Mass (kg)","Velocity (m/s)"], unit:"J"},
        "PE=mgh": {labels:["Mass (kg)","Gravity (m/s²)","Height (m)"], unit:"J"},
        "a=F/m": {labels:["Force (N)","Mass (kg)"], unit:"m/s²"},
        "w=v/r": {labels:["Velocity (m/s)","Radius (m)"], unit:"rad/s"},
        "Fc=mv2/r": {labels:["Mass (kg)","Velocity (m/s)","Radius (m)"], unit:"N"}
    };

    inputs.innerHTML = "<br>";

    forms[formula].labels.forEach((label, i) => {
        inputs.innerHTML += `<label>${label}:</label>
                             <input id="input${i}" /><br>`;
    });
}

loadInputs();

function compute() {
    let formula = document.getElementById("computeSelect").value;
    let inputsDiv = document.getElementById("inputs");
    let inputFields = inputsDiv.querySelectorAll("input");
    let values = [];

    // Parse all inputs dynamically
    for (let i = 0; i < inputFields.length; i++) {
        let val = parseFloat(inputFields[i].value);
        if (isNaN(val)) {
            document.getElementById("computeResult").innerHTML = "Please enter valid numbers.";
            return;
        }
        values.push(val);
    }

    let r = 0;
    let unit = "";

    const formulas = {
        "F=ma": () => { r = values[0]*values[1]; unit="N"; },
        "T=Fr": () => { r = values[0]*values[1]; unit="N·m"; },
        "σ=F/A": () => { r = values[0]/values[1]; unit="Pa"; },
        "P=Fv": () => { r = values[0]*values[1]; unit="W"; },
        "W=Fd": () => { r = values[0]*values[1]; unit="J"; },
        "KE=1/2mv2": () => { r = 0.5*values[0]*Math.pow(values[1],2); unit="J"; },
        "PE=mgh": () => { r = values[0]*values[1]*values[2]; unit="J"; },
        "a=F/m": () => { r = values[0]/values[1]; unit="m/s²"; },
        "w=v/r": () => { r = values[0]/values[1]; unit="rad/s"; },
        "Fc=mv2/r": () => { r = values[0]*Math.pow(values[1],2)/values[2]; unit="N"; }
    };

    formulas[formula]();

    document.getElementById("computeResult").innerHTML = `Result: <b>${r.toFixed(4)} ${unit}</b>`;
}
</script>

</body>
</html>
